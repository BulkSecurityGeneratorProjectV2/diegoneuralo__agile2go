<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"> 
<h:head>
	<h:outputStylesheet name="content.css" library="css" />
</h:head>
<ui:composition template="/templates/_template.xhtml">
	<ui:define name="body">		
		<h:form id="form">
			
			<h:panelGrid cellpadding="3" cellspacing="3" styleClass="formulario">
					<h:panelGrid cellpadding="0" cellspacing="0">
						<h:outputLabel value="&nbsp;User Story" />
						<p:inputText value="#{taskMb.task.story}" size="25" style="width:305px;" />
					</h:panelGrid>
					<h:panelGrid cellpadding="0" cellspacing="0">
						<h:outputLabel value="&nbsp;Sprint" />
						<p:autoComplete id="sprint" value="#{taskMb.task.sprint}" converter="#{sprintConverter}" forceSelection="true"
							completeMethod="#{taskMb.completeSprint}" var="s" itemValue="#{s}" itemLabel="#{s.name}" minQueryLength="3"
							maxResults="5" queryDelay="500" size="32" style="width:305px;">
							<p:column>
								<div style="text-align: left;">
									cod:#{s.id} - name:#{s.name}<br />deadline:#{s.endDate}
								</div>
							</p:column>							
						</p:autoComplete>													
					</h:panelGrid>
					<h:panelGrid columns="3" cellpadding="0" cellspacing="0" >
					<h:panelGrid cellpadding="0" cellspacing="0" style="width: 90px;">
						<h:outputLabel value="&nbsp;Priority" />
						<p:selectOneMenu value="#{taskMb.task.priority}">
							<f:selectItem itemLabel=" " itemValue=" " />
							<f:selectItem itemLabel="1" itemValue="1" />
							<f:selectItem itemLabel="2" itemValue="2" />
							<f:selectItem itemLabel="3" itemValue="3" />
							<f:selectItem itemLabel="4" itemValue="4" />
							<f:selectItem itemLabel="5" itemValue="5" />
						</p:selectOneMenu>
					</h:panelGrid>
					<h:panelGrid cellpadding="0" cellspacing="0">
						<h:outputLabel value="&nbsp;Hours" />
						<p:inputMask mask="99:99" value="#{taskMb.task.hours}" size="10" />
					</h:panelGrid>					
					</h:panelGrid>
				</h:panelGrid>
				<p:commandButton value="Save" action="#{taskMb.saveOrUpdate}"
					update="form :growl" style="margin-left:80px;font-family:Ubuntu;font-size:16px;" />
				<p:commandButton value="Cancel" action="#{projectMb.cancelProject}" 
				                 style="margin-right:50px; font-family:Ubuntu;font-size:16px;" />						
		</h:form>
	</ui:define>
</ui:composition> 
</html>
